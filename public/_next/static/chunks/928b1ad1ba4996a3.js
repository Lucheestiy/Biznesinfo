(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,83445,69322,e=>{"use strict";var t=e.i(43476),s=e.i(22016),r=e.i(71645),a=e.i(11110),l=e.i(55090),i=e.i(96936),n=e.i(92697),o=e.i(82074);let d=new Set(["–∏","–≤","–≤–æ","–Ω–∞","–ø–æ","–¥–ª—è","—Å","—Å–æ","–∫","–∫–æ","–æ—Ç","–¥–æ","–∏–∑","—É","–æ","–æ–±","–æ–±–æ","–∞","–Ω–æ","–∏–ª–∏"]),c=/[aeiouy–∞–µ—ë–∏–æ—É—ã—ç—é—è]$/iu;function m(e){let t=(e||"").trim().toLowerCase().replace(/—ë/gu,"–µ").replace(/[¬´¬ª"'‚Äú‚Äù‚Äû]/gu," ").replace(/[^\p{L}\p{N}-]+/gu," ").replace(/\s+/gu," ").trim();if(!t)return[];let s=[],r=new Set;for(let e of t.split(" ")){let t=e.trim();if(!(!t||d.has(t))&&(!(t.length<2)||/\d/gu.test(t))&&!r.has(t)&&(r.add(t),s.push(t),s.length>=12))break}return s}function x(e){let t=[];for(let s of e||[])t.push(...function(e){let t=new Set,s=(e||"").trim().toLowerCase().replace(/—ë/gu,"–µ");if(!s)return[];if(t.add(s),s.length>=4&&c.test(s)){let e=s.slice(0,-1);e.length>=3&&t.add(e),e.endsWith("–∫")&&e.length>=3&&t.add(`${e.slice(0,-1)}—á`)}return Array.from(t)}(s));let s=Array.from(new Set(t.map(e=>(e||"").trim()).filter(Boolean)));if(!s.length)return null;let r=s.sort((e,t)=>t.length-e.length).map(e=>(function(e){let t=(e||"").trim().toLowerCase().replace(/—ë/gu,"–µ");if(!t||t.length<3&&!/\d/gu.test(t))return null;if("—Å—ã—Ä"===t)return`—Å—ã—Ä(?!—å)(?!–æ–∫–æ–ø—á)(?!–æ–≤—è–ª–µ–Ω)(?!–æ–≤—è–ª)[\\p{L}\\p{N}-]*`;if("–ª–µ—Å"===t)return`–ª–µ—Å(?!—Ç)[\\p{L}\\p{N}-]*`;if("–≥–∞–∑"===t)return`–≥–∞–∑(?!–µ—Ç)(?!–æ–Ω)(?!–µ–ª)(?!–∏—Ä)[\\p{L}\\p{N}-]*`;let s=t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/–µ/gu,"[–µ—ë]");return`${s}[\\p{L}\\p{N}-]*`})(e)).filter(e=>!!e).join("|");return r?RegExp(`(${r})`,"giu"):null}function h(e,s,a="bg-yellow-300 text-gray-900 rounded px-0.5"){let l=e||"";if(!l.trim()||!s||0===s.length)return e;let i=x(s);if(!i)return e;let n=l.split(i);return n.length<=1?e:n.map((e,s)=>s%2==1?(0,t.jsx)("mark",{className:a,children:e},`m${s}`):(0,t.jsx)(r.default.Fragment,{children:e},`t${s}`))}function u(e){return(e||"").replace(/\s+/g," ").trim()}function p(e,t){let s=u(e);if(!s||!t||0===t.length)return null;let r=x(t);if(!r)return null;r.lastIndex=0;let a=r.exec(s);if(!a)return null;let l="number"==typeof a.index?a.index:-1;return l<0?null:{index:l,length:(a[0]||"").length}}function g(e,t,s=[]){let r=u(e);if(!r)return"";if(r.length<=t)return r;let a=p(r,s);if(a)return function(e,t,s,r){let a=u(e);if(!a)return"";if(a.length<=r)return a;let l=Math.max(0,t-Math.max(40,Math.floor(.35*r))),i=Math.min(a.length,l+r);if(i-l<r&&i>=a.length&&(l=Math.max(0,i-r)),l>0){let e=Math.max(0,t-240),s=Math.max(a.lastIndexOf(". ",t),a.lastIndexOf("! ",t),a.lastIndexOf("? ",t));s>=Math.max(l,e)&&(l=s+2)}if(i<a.length){let e=[a.indexOf(". ",t+s),a.indexOf("! ",t+s),a.indexOf("? ",t+s)].filter(e=>e>=0).sort((e,t)=>e-t),r=e.length?e[0]:-1;r>=0&&r<i&&(i=r+1)}if(l>0&&!/\s/gu.test(a[l])){let e=a.indexOf(" ",l);e>l&&e-l<20&&(l=e+1)}if(i<a.length&&!/\s/gu.test(a[i-1])){let e=a.lastIndexOf(" ",i);e>l&&i-e<20&&(i=e)}let n=a.slice(l,i).trim();return l>0&&(n=`‚Ä¶${n}`),i<a.length&&(n=`${n}‚Ä¶`),n}(r,a.index,a.length,t);let l=r.match(/[^.!?]+[.!?]+|[^.!?]+$/g)?.map(e=>e.trim()).filter(Boolean)||[],i=[];for(let e of l){if((i.length?`${i.join(" ")} ${e}`:e).length>t)break;i.push(e)}if(i.length>0)return i.join(" ").trim();let n=r.slice(0,t),o=Math.max(n.lastIndexOf("."),n.lastIndexOf("!"),n.lastIndexOf("?"));if(o>=Math.floor(.6*t))return n.slice(0,o+1).trim();let d=Math.max(n.lastIndexOf(";"),n.lastIndexOf(":"));if(d>=Math.floor(.7*t))return n.slice(0,d+1).trim();let c=n.lastIndexOf(",");if(c>=Math.floor(.75*t))return n.slice(0,c).trim();let m=n.lastIndexOf(" ");return m>0?n.slice(0,m).trim():n.trim()}function f(e){return(e||"").replace(/[^\d+]/g,"")}function b({company:e,showCategory:i=!1,highlightNameTokens:n=[],highlightServiceTokens:d=[],highlightLocationTokens:c=[]}){let{t:m}=(0,a.useLanguage)(),{isFavorite:x,toggleFavorite:u}=(0,l.useFavorites)(),[b,j]=(0,r.useState)(!1),[v,y]=(0,r.useState)(!1),N=`/company/${encodeURIComponent(e.id)}`,w=x(e.id),k=e.primary_category_slug&&o.IBIZ_CATEGORY_ICONS[e.primary_category_slug]||"üè¢",C=(e.logo_url||"").trim(),L=(0,r.useMemo)(()=>C?`/api/ibiz/logo?u=${encodeURIComponent(C)}`:"",[C]),$=!!C&&!b,M=(0,r.useMemo)(()=>{let t=e.name||"",s=t.replace(/[¬´¬ª"'""‚Äû]/g,"").replace(/(–û–û–û|–û–ê–û|–ó–ê–û|–ò–ü|–£–ü|–ö–°–£–ü|–ß–¢–£–ü|–ß–ü–£–ü|–†–£–ü|–°–û–û–û|–°–ü|–ú–ê–ì–ê–ó–ò–ù|–§–ò–õ–ò–ê–õ|–§-–õ)/gi,"").trim().split(/[\s-]+/).filter(e=>e.length>1);return s.length>=2?(s[0][0]+s[1][0]).toUpperCase():1===s.length&&s[0].length>=2?s[0].substring(0,2).toUpperCase():t.substring(0,2).toUpperCase()},[e.name]),_=(0,r.useMemo)(()=>{let t=["from-blue-500 to-blue-600","from-green-500 to-green-600","from-purple-500 to-purple-600","from-orange-500 to-orange-600","from-pink-500 to-pink-600","from-teal-500 to-teal-600","from-indigo-500 to-indigo-600","from-rose-500 to-rose-600"],s=0;for(let t=0;t<e.name.length;t++)s=e.name.charCodeAt(t)+((s<<5)-s);return t[Math.abs(s)%t.length]},[e.name]),I=(0,r.useMemo)(()=>{let t=(e.primary_rubric_name||"").trim(),s=(e.primary_category_name||"").trim();return i?t||s:s||t},[e.primary_category_name,e.primary_rubric_name,i]),z=(0,r.useMemo)(()=>{let t=d||[],s=(e.description||"").trim(),r=(e.about||"").trim();if(t.length>0){if(p(s,t))return g(s,250,t);if(p(r,t))return g(r,250,t)}return g(s||r,250,t)},[e.about,e.description,d]),O=(e.address||e.city||"").trim(),S=(0,r.useMemo)(()=>{let t=e.phones_ext&&e.phones_ext.length>0?e.phones_ext.map(e=>e.number):e.phones||[],s=new Set,r=[];for(let e of t){let t=(e||"").trim();if(t&&!s.has(t)&&(s.add(t),r.push(t),r.length>=2))break}return r},[e.phones,e.phones_ext]),R=(e.emails?.[0]||"").trim();return(0,r.useEffect)(()=>{j(!1),y(!1)},[L]),(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border-2 border-[#820251] hover:shadow-md transition-shadow overflow-hidden flex flex-col h-full",children:[(0,t.jsx)("div",{className:"bg-gradient-to-r from-[#820251] to-[#6a0143] p-3.5",children:(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)(s.default,{href:N,"aria-label":m("company.details"),className:"block w-20 h-20 rounded-lg overflow-hidden flex-shrink-0 shadow-md focus:outline-none focus:ring-2 focus:ring-white/70",children:$?(0,t.jsxs)("div",{className:"w-full h-full relative flex items-center justify-center bg-white",children:[(0,t.jsx)("span",{className:`text-[#820251] text-3xl transition-opacity duration-200 ${v?"opacity-0":"opacity-100"}`,children:k}),(0,t.jsx)("img",{src:L,alt:e.name,className:`absolute inset-0 w-full h-full object-contain p-1 transition-opacity duration-200 ${v?"opacity-100":"opacity-0"}`,decoding:"async",loading:"lazy",onLoad:()=>y(!0),onError:()=>j(!0)})]}):(0,t.jsx)("div",{className:`w-full h-full bg-gradient-to-br ${_} flex items-center justify-center`,children:(0,t.jsx)("span",{className:"text-white text-2xl font-bold tracking-wide",children:M})})}),(0,t.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,t.jsxs)("h3",{className:"text-[18px] font-bold text-white leading-tight",style:{textAlign:"justify",textAlignLast:"justify"},children:[(0,t.jsx)(s.default,{href:N,className:"hover:underline focus:outline-none focus:ring-2 focus:ring-white/70 rounded-sm",children:h(e.name,n)}),"belarusinfo"===e.source&&(0,t.jsx)("span",{"aria-hidden":!0,className:"ml-2 inline-block w-2 h-2 rounded-full bg-white/50 align-middle"})]}),I&&(0,t.jsx)("div",{className:"mt-2",children:(0,t.jsx)("span",{className:"inline-block bg-white/10 text-white text-[13px] leading-tight font-semibold px-2 py-1 rounded-md",children:h(I,d)})})]}),(0,t.jsx)("button",{type:"button","aria-pressed":w,"aria-label":m(w?"favorites.remove":"favorites.add"),onClick:()=>u(e.id),title:m(w?"favorites.remove":"favorites.add"),className:`shrink-0 w-10 h-10 rounded-xl transition-colors flex items-center justify-center ${w?"bg-white/20":"bg-white/10 hover:bg-white/15 active:bg-white/20"}`,children:(0,t.jsx)("svg",{className:`w-6 h-6 ${w?"text-red-400 fill-current":"text-white"}`,fill:w?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":!0,children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})})]})}),(0,t.jsxs)("div",{className:"p-3.5 bg-gradient-to-br from-white to-[#820251]/5 flex-1 flex flex-col",children:[z&&(0,t.jsx)("p",{className:"text-[15px] text-gray-900 leading-tight font-medium",children:h(z,d)}),O&&(0,t.jsx)("div",{className:`${z?"mt-2.5":""} text-[13px] text-gray-800 leading-tight whitespace-pre-line break-words`,children:h(O,c)}),(0,t.jsxs)("div",{className:"mt-2.5 space-y-1.5",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("a",{href:S[0]?`tel:${f(S[0])}`:void 0,className:"block text-[15px] text-[#820251] font-semibold hover:underline",children:S[0]||"‚Äî"}),(0,t.jsx)("a",{href:S[1]?`tel:${f(S[1])}`:void 0,className:"block text-[15px] text-[#820251] font-semibold hover:underline",children:S[1]||"‚Äî"})]}),(0,t.jsx)("a",{href:R?`mailto:${R}`:void 0,className:"block text-[13px] text-gray-800 hover:text-[#820251] hover:underline break-words",children:R||"‚Äî"})]}),(0,t.jsx)("div",{className:"mt-auto pt-2.5 flex justify-end",children:(0,t.jsx)(s.default,{href:`/company/${encodeURIComponent(e.id)}`,className:"inline-flex items-center justify-center bg-[#820251] text-white px-4 py-1.5 rounded-lg text-[15px] font-bold shadow-sm hover:bg-[#6a0143] active:bg-[#520031] transition-colors",children:m("company.details")})})]})]})}function j({company:e,showCategory:d=!1}){let{t:c}=(0,a.useLanguage)(),{isFavorite:m,toggleFavorite:x}=(0,l.useFavorites)(),[h,u]=(0,r.useState)(!1),[p,g]=(0,r.useState)(!1),[f,b]=(0,r.useState)(!1),[j,v]=(0,r.useState)(!1),y=m(e.id),N=e.websites?.[0]||"",w=(0,r.useMemo)(()=>(function(e){let t=(e||"").trim();if(!t)return null;let s=t.split(/[\s,;]+/)[0]||"";if(!s)return null;try{let e=new URL(s);return"http:"===e.protocol||"https:"===e.protocol?e.toString():null}catch{try{return new URL(`https://${s}`).toString()}catch{return null}}})(N),[N]),k=e.emails?.[0]||"",C=e.phones?.[0]||e.phones_ext?.[0]?.number||"",L=(0,r.useMemo)(()=>e.phones_ext&&e.phones_ext.length>0?e.phones_ext:(e.phones||[]).map(e=>({number:e,labels:[]})),[e.phones,e.phones_ext]),$=(e.work_hours?.status||"").trim(),M=(e.work_hours?.work_time||"").trim(),_=[$,M&&!$.includes(M)?M:""].filter(Boolean).join(" ‚Ä¢ "),I=e.primary_category_slug&&o.IBIZ_CATEGORY_ICONS[e.primary_category_slug]||"üè¢",z=(e.logo_url||"").trim(),O=(0,r.useMemo)(()=>z?`/api/ibiz/logo?u=${encodeURIComponent(z)}`:"",[z]),S=!!z&&!f,R=(0,r.useMemo)(()=>{let t=e.name||"",s=t.replace(/[¬´¬ª"'""‚Äû]/g,"").replace(/(–û–û–û|–û–ê–û|–ó–ê–û|–ò–ü|–£–ü|–ö–°–£–ü|–ß–¢–£–ü|–ß–ü–£–ü|–†–£–ü|–°–û–û–û|–°–ü|–ú–ê–ì–ê–ó–ò–ù|–§–ò–õ–ò–ê–õ|–§-–õ)/gi,"").trim().split(/[\s-]+/).filter(e=>e.length>1);return s.length>=2?(s[0][0]+s[1][0]).toUpperCase():1===s.length&&s[0].length>=2?s[0].substring(0,2).toUpperCase():t.substring(0,2).toUpperCase()},[e.name]),A=(0,r.useMemo)(()=>{let t=["from-blue-500 to-blue-600","from-green-500 to-green-600","from-purple-500 to-purple-600","from-orange-500 to-orange-600","from-pink-500 to-pink-600","from-teal-500 to-teal-600","from-indigo-500 to-indigo-600","from-rose-500 to-rose-600"],s=0;for(let t=0;t<e.name.length;t++)s=e.name.charCodeAt(t)+((s<<5)-s);return t[Math.abs(s)%t.length]},[e.name]),B=(0,r.useMemo)(()=>(function(e,t){if(!e||0===e.trim().length)return"";let s=e;for(let e of t.toLowerCase().replace(/[¬´¬ª"'‚Äú‚Äù‚Äû]/g," ").replace(/[^\p{L}\p{N}\s-]/gu," ").split(/[\s-]+/).map(e=>e.trim()).filter(e=>e.length>2)){let t=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");s=s.replace(RegExp(`(^|[^\\p{L}\\p{N}])${t}(?=[^\\p{L}\\p{N}]|$)`,"giu"),"$1")}s=(s=(s=(s=(s=(s=(s=(s=(s=(s=(s=s.replace(RegExp(`(^|[^\\p{L}\\p{N}])(–û–û–û|–û–ê–û|–ó–ê–û|–ò–ü|–£–ü|–ö–°–£–ü|–ß–¢–£–ü|–ß–ü–£–ü|–†–£–ü|–°–û–û–û|–°–ü)(?=[^\\p{L}\\p{N}]|$)`,"giu"),"$1")).replace(/[¬´¬ª"'‚Äú‚Äù‚Äû]/g,"")).replace(/–æ–±—Ä–∞–∑–æ–≤–∞–Ω[–æ–∞]?\s*(–≤\s*)?\d{4}\s*(–≥–æ–¥—É?)?\.?/gi,"")).replace(/–æ—Å–Ω–æ–≤–∞–Ω[–æ–∞]?\s*(–≤\s*)?\d{4}\s*(–≥–æ–¥—É?)?\.?/gi,"")).replace(/—Å\s*\d{4}\s*(–≥–æ–¥–∞?)?/gi,"")).replace(/–Ω–∞\s+–ø—Ä–æ—Ç—è–∂–µ–Ω–∏–∏\s+\d+\s+–ª–µ—Ç/gi,"")).replace(/–±–æ–ª–µ–µ\s+\d+\s+–ª–µ—Ç/gi,"")).replace(/—Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω[–æ–∞]?\s+–≤\s+[^.]+\./gi,"")).replace(/–Ω–∞—Ö–æ–¥–∏[—Ç–º]—Å—è\s+–≤\s+[^.]+\./gi,"")).replace(/–ø–æ\s+–∞–¥—Ä–µ—Å—É\s+[^.]+\./gi,"")).replace(/–≤\s+\d+-?—Ö?\s+–∫–∏–ª–æ–º–µ—Ç—Ä–∞—Ö?\s+–æ—Ç\s+[^.]+\./gi,"");let r=["–ø—Ä–æ–∏–∑–≤–æ–¥","–≤—ã–ø—É—Å–∫–∞","–∏–∑–≥–æ—Ç–æ–≤","–ø—Ä–µ–¥–ª–∞–≥–∞","–æ–∫–∞–∑—ã–≤–∞","–ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è","–ø—Ä–æ–¥—É–∫—Ü–∏","—Ç–æ–≤–∞—Ä","—É—Å–ª—É–≥","—Å–ø–µ—Ü–∏–∞–ª–∏–∑","–∑–∞–Ω–∏–º–∞","—Ä–µ–∞–ª–∏–∑—É","–≤—ã—Ä–∞—â–∏–≤–∞","–ø–æ—Å—Ç–∞–≤–ª—è","–ø—Ä–æ–¥–∞–∂","–∞—Å—Å–æ—Ä—Ç–∏–º–µ–Ω—Ç"],a=s.split(/[.!?]+/).map(e=>e.trim()).filter(e=>e.length>10),l=[];for(let e of a){let t=e.toLowerCase();if(r.some(e=>t.includes(e))&&(l.push(e),l.join(". ").length>120))break}let i=l.join(". ").trim();if((i=i.replace(/\s+/g," ").trim()).length>150){let e=i.substring(0,150),t=Math.max(e.lastIndexOf("."),e.lastIndexOf("!"),e.lastIndexOf("?"));if(t>50)i=i.substring(0,t+1);else{let t=e.lastIndexOf(" ");i=t>100?i.substring(0,t)+"...":e+"..."}}return!i||i.endsWith(".")||i.endsWith("...")||(i+="."),i})(e.about||"",e.name),[e.about,e.name]);return(0,r.useEffect)(()=>{b(!1),v(!1)},[O]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 hover:shadow-lg transition-all overflow-hidden relative flex flex-col h-full",children:[(0,t.jsx)("button",{onClick:()=>x(e.id),className:"absolute top-3 right-3 z-10 w-8 h-8 rounded-full bg-white/90 flex items-center justify-center shadow-sm hover:shadow-md transition-all",title:c(y?"favorites.remove":"favorites.add"),children:(0,t.jsx)("svg",{className:`w-5 h-5 ${y?"text-red-500 fill-current":"text-gray-400"}`,fill:y?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}),(0,t.jsx)("div",{className:"bg-gradient-to-r from-[#820251] to-[#6a0143] p-4 pr-12",children:(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)("div",{className:"w-20 h-20 rounded-lg overflow-hidden flex-shrink-0 shadow-md",children:S?(0,t.jsxs)("div",{className:"w-full h-full relative flex items-center justify-center bg-white",children:[(0,t.jsx)("span",{className:`text-[#820251] text-3xl transition-opacity duration-200 ${j?"opacity-0":"opacity-100"}`,children:I}),(0,t.jsx)("img",{src:O,alt:e.name,className:`absolute inset-0 w-full h-full object-contain p-1 transition-opacity duration-200 ${j?"opacity-100":"opacity-0"}`,decoding:"async",loading:"lazy",onLoad:()=>v(!0),onError:()=>b(!0)})]}):(0,t.jsx)("div",{className:`w-full h-full bg-gradient-to-br ${A} flex items-center justify-center`,children:(0,t.jsx)("span",{className:"text-white text-2xl font-bold tracking-wide",children:R})})}),(0,t.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,t.jsxs)("h3",{className:"font-bold text-white text-lg leading-tight",style:{textAlign:"justify",textAlignLast:"justify"},children:[e.name,"belarusinfo"===e.source&&(0,t.jsx)("span",{"aria-hidden":!0,className:"ml-2 inline-block w-2 h-2 rounded-full bg-white/40 align-middle"})]}),d&&e.primary_rubric_name&&(0,t.jsx)("span",{className:"inline-block mt-2 text-xs text-pink-200 bg-white/10 px-2 py-1 rounded",children:e.primary_rubric_name})]})]})}),(0,t.jsxs)("div",{className:"p-4 flex-1 flex flex-col",children:[B&&(0,t.jsxs)("div",{className:"flex items-start gap-2 mb-3 text-sm",children:[(0,t.jsx)("span",{className:"text-[#820251] mt-0.5",children:"üõ†Ô∏è"}),(0,t.jsx)("span",{className:"text-gray-700 leading-tight line-clamp-2",children:B})]}),(0,t.jsxs)("div",{className:"flex items-start gap-2 mb-3 text-sm",children:[(0,t.jsx)("span",{className:"text-[#820251] mt-0.5",children:"üìç"}),(0,t.jsx)("span",{className:"text-gray-700 leading-tight",children:e.address||e.city})]}),(e.work_hours?.status||e.work_hours?.work_time)&&(0,t.jsxs)("div",{className:"flex items-start gap-2 mb-3 text-sm",children:[(0,t.jsx)("span",{className:"text-[#820251] mt-0.5",children:"‚è∞"}),(0,t.jsx)("span",{className:"text-gray-700 leading-tight line-clamp-2",children:_})]}),e.description&&(0,t.jsx)("div",{className:"text-sm text-gray-600 line-clamp-2",children:e.description}),(0,t.jsx)("div",{className:"border-t border-gray-100 my-3"}),(0,t.jsxs)("div",{className:"space-y-2 text-sm mb-4",children:[w&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-[#820251] w-5 text-center",children:"üåê"}),(0,t.jsx)("a",{href:w,target:"_blank",rel:"noopener noreferrer",className:"text-[#820251] font-medium hover:underline truncate",children:function(e){let t=(e||"").trim();if(!t)return"";try{return new URL(t).hostname||t}catch{return t.replace(/^https?:\/\//i,"").split("/")[0]||t}}(w)})]}),k&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-[#820251] w-5 text-center",children:"‚úâÔ∏è"}),(0,t.jsx)("a",{href:`https://mail.yandex.ru/compose?to=${encodeURIComponent(k)}`,target:"_blank",rel:"noopener noreferrer",className:"text-gray-700 hover:text-[#820251] truncate",children:k})]}),L.length>0&&(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)("span",{className:"text-[#820251] w-5 text-center mt-0.5",children:"üìû"}),(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(p?L:L.slice(0,3)).map((e,s)=>(0,t.jsxs)("a",{href:`tel:${e.number}`,className:"text-[#820251] font-medium hover:underline",children:[e.number,e.labels&&e.labels.length>0&&(0,t.jsxs)("span",{className:"text-gray-500 font-normal",children:[" (",e.labels.join(", "),")"]})]},s)),L.length>3&&(0,t.jsx)("button",{type:"button",onClick:()=>g(e=>!e),className:"text-left text-xs text-gray-400 hover:text-[#820251] hover:underline",children:p?c("common.hide"):`+${L.length-3} ${c("common.more")}`})]})]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2 mt-auto",children:[(0,t.jsx)("a",{href:C?`tel:${C}`:void 0,className:"flex-1 min-w-[100px] bg-green-600 text-white px-3 py-2 rounded text-sm font-medium hover:bg-green-700 transition-colors text-center",children:c("company.call")}),(0,t.jsx)("button",{onClick:()=>u(!0),className:"flex-1 min-w-[100px] border-2 border-[#820251] text-[#820251] px-3 py-2 rounded text-sm font-medium hover:bg-[#820251] hover:text-white transition-colors",children:c("company.write")})]})]}),(0,t.jsxs)("div",{className:"px-4 py-3 bg-gray-50 border-t border-gray-100 flex items-center justify-between gap-2",children:[(0,t.jsx)(i.default,{companyName:e.name,companyId:e.id,isActive:!1}),(0,t.jsx)(s.default,{href:`/company/${encodeURIComponent(e.id)}`,className:"bg-[#820251] text-white px-4 py-2 rounded text-sm font-medium hover:bg-[#6a0143] transition-colors",children:c("company.details")})]})]}),(0,t.jsx)(n.default,{isOpen:h,onClose:()=>u(!1),companyName:e.name,companyId:e.id,email:k||void 0,phone:C||void 0,hasAI:!1})]})}function v(e){return"search"===e.variant?(0,t.jsx)(b,{...e}):(0,t.jsx)(j,{...e})}e.s(["buildHighlightRegex",()=>x,"highlightText",()=>h,"tokenizeHighlightQuery",()=>m],69322),e.s(["default",()=>v],83445)},92697,82074,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(11110),a=e.i(96936);function l({isOpen:e,onClose:l,companyName:i,companyId:n,email:o,phone:d,hasAI:c=!1}){let{t:m}=(0,r.useLanguage)(),[x,h]=(0,s.useState)(null),[u,p]=(0,s.useState)(""),[g,f]=(0,s.useState)(!1);if(!e)return null;let b=[{id:"ai",name:m("ai.title"),icon:"AI",available:c,color:"bg-gradient-to-r from-[#b10a78] to-[#7a0150]"},{id:"email",name:"Email",icon:"‚úâÔ∏è",available:!!o,color:"bg-blue-500"},{id:"viber",name:"Viber",icon:"üì±",available:!!d,color:"bg-purple-500"},{id:"telegram",name:"Telegram",icon:"‚úàÔ∏è",available:!!d,color:"bg-sky-500"},{id:"whatsapp",name:"WhatsApp",icon:"üìû",available:!!d,color:"bg-green-500"}];return(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:(0,t.jsxs)("div",{className:"bg-white rounded-2xl w-full max-w-lg shadow-2xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsx)("div",{className:"bg-gradient-to-r from-[#b10a78] to-[#7a0150] text-white p-6 rounded-t-2xl sticky top-0",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-bold",children:m("message.title")}),(0,t.jsx)("p",{className:"text-sm text-pink-200",children:i})]}),(0,t.jsx)("button",{onClick:l,className:"text-white/80 hover:text-white",children:(0,t.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,t.jsx)("div",{className:"p-6",children:g?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,t.jsx)("h3",{className:"text-lg font-bold text-gray-800",children:"–°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ!"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:m("message.selectChannel")}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-3",children:b.map(e=>(0,t.jsxs)("button",{onClick:()=>e.available&&h(e.id),disabled:!e.available,className:`p-4 rounded-lg border-2 transition-all flex items-center gap-3 ${x===e.id?"border-[#820251] bg-[#820251]/5":e.available?"border-gray-200 hover:border-gray-300":"border-gray-100 bg-gray-50 opacity-50 cursor-not-allowed"}`,children:[(0,t.jsx)("div",{className:`w-10 h-10 ${e.color} rounded-full flex items-center justify-center text-white text-lg`,children:e.icon}),(0,t.jsx)("span",{className:`font-medium ${e.available?"text-gray-700":"text-gray-400"}`,children:e.name})]},e.id))})]}),x&&"ai"!==x&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:m("message.yourMessage")}),(0,t.jsx)("textarea",{value:u,onChange:e=>p(e.target.value),placeholder:"–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ —Å–æ–æ–±—â–µ–Ω–∏–µ...",className:"w-full p-4 border border-gray-200 rounded-lg focus:outline-none focus:border-[#820251] resize-none h-32"})]}),(0,t.jsx)("button",{onClick:()=>{if(!u.trim()||!x)return;let e=`–ó–∞–ø—Ä–æ—Å –≤ –∫–æ–º–ø–∞–Ω–∏—é: ${i}

${u}`;switch(x){case"email":window.location.href=`mailto:${o}?subject=–ó–∞–ø—Ä–æ—Å –æ—Ç BiznesInfo&body=${encodeURIComponent(e)}`;break;case"viber":window.open(`viber://chat?number=${d?.replace(/[^0-9+]/g,"")}`,"_blank");break;case"telegram":window.open(`https://t.me/share/url?text=${encodeURIComponent(e)}`,"_blank");break;case"whatsapp":window.open(`https://wa.me/${d?.replace(/[^0-9]/g,"")}?text=${encodeURIComponent(e)}`,"_blank")}f(!0),setTimeout(()=>{f(!1),l(),h(null),p("")},2e3)},disabled:!u.trim(),className:"w-full bg-[#820251] text-white py-3 rounded-lg font-semibold hover:bg-[#7a0150] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:m("message.send")})]}),"ai"===x&&c&&(0,t.jsx)("div",{className:"mt-4",children:(0,t.jsx)(a.default,{companyName:i,companyId:n,isActive:!0})})]})})]})})}e.s(["default",()=>l],92697),e.s(["IBIZ_CATEGORY_ICONS",0,{"avtomobilnaya-tehnika-uslugi-transport":"üöó","apk-selskoe-i-lesnoe-hozyaystvo":"üåæ","banki-birji-finansy":"üí∞","biznes-uslugi-dlya-biznesa":"üíº","derevoobrabotka-i-mebel":"ü™µ","dom-i-byt-bytovye-uslugi":"üè†","gosudarstvo-i-obshchestvo":"üèõÔ∏è","himiya-energetika-syre":"‚ö°","iskusstvo-suveniry-yuvelirnye-izdeliya":"üéÅ","it-internet-i-orgtehnika":"üíª","legkaya-promyshlennost":"üßµ","mashinostroenie-i-oborudovanie":"‚öôÔ∏è","medicina-i-farmacevtika":"üè•","metally-metalloobrabotka":"üß≤",nedvizhimost:"üè†","obrazovanie-nauka-karera":"üéì","poligrafiya-izdatelstvo-upakovka":"üñ®Ô∏è","promyshlennost-pishchevaya":"üçΩÔ∏è","reklamnaya-deyatelnost-smi":"üì£","sport-zdorove-krasota":"üíÖ","stroitelstvo-nedvijimost":"üèóÔ∏è","strojmateriali-otdelochnie-materiali":"üß±","telekommunikatsii-i-svyaz":"üì°","torgovlya-logistika":"üõí","transport-logistika-perevozki":"üöö","turizm-otdyh-dosug":"üß≥","uslugi-dlya-naseleniya":"üîß"}],82074)},42129,e=>{"use strict";function t(e){let t,s,r;return`${e} ${s=(t=Math.abs(e))%10,(r=t%100)>=11&&r<=19?"–∫–æ–º–ø–∞–Ω–∏–π":1===s?"–∫–æ–º–ø–∞–Ω–∏—è":s>=2&&s<=4?"–∫–æ–º–ø–∞–Ω–∏–∏":"–∫–æ–º–ø–∞–Ω–∏–π"}`}e.s(["formatCompanyCount",()=>t])},96936,e=>{"use strict";var t=e.i(43476),s=e.i(22016),r=e.i(71645),a=e.i(11110);let l=["image/jpeg","image/png","image/gif","image/webp","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","text/plain"];function i({floating:e=!1,companyName:i,companyId:n,isActive:o=!0,hideFloatingButton:d=!1}){let{t:c}=(0,a.useLanguage)(),[m,x]=(0,r.useState)(!1),[h,u]=(0,r.useState)(""),[p,g]=(0,r.useState)(""),[f,b]=(0,r.useState)(""),[j,v]=(0,r.useState)(""),[y,N]=(0,r.useState)(""),[w,k]=(0,r.useState)(!1),[C,L]=(0,r.useState)([]),[$,M]=(0,r.useState)(!1),_=(0,r.useRef)(null),[I,z]=(0,r.useState)({});(0,r.useEffect)(()=>{if(!e)return;let t=()=>{z({}),x(!0)};return window.addEventListener("aiassistant:open",t),()=>{window.removeEventListener("aiassistant:open",t)}},[e]);let O=(0,r.useCallback)(e=>{let t=Array.from(e),s=[],r="";for(let e of t){if(C.length+s.length>=10){r=c("ai.form.maxFilesError")||`–ú–∞–∫—Å–∏–º—É–º 10 —Ñ–∞–π–ª–æ–≤`;break}if(!l.includes(e.type)){r=c("ai.form.fileTypeError")||"–ù–µ–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π —Ñ–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞";continue}if(e.size>0xa00000){r=c("ai.form.fileSizeError")||"–§–∞–π–ª —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π (–º–∞–∫—Å. 10 –ú–ë)";continue}let t=e.type.startsWith("image/"),a={id:`${Date.now()}-${Math.random().toString(36).substring(2,9)}`,file:e,type:t?"image":"document"};t&&(a.preview=URL.createObjectURL(e)),s.push(a)}r?z(e=>({...e,files:r})):z(e=>({...e,files:void 0})),s.length>0&&L(e=>[...e,...s])},[C.length,c]),S=e=>{e.target.files&&e.target.files.length>0&&(O(e.target.files),e.target.value="")},R=(0,r.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),M(!0)},[]),A=(0,r.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),M(!1)},[]),B=(0,r.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),M(!1),e.dataTransfer.files&&e.dataTransfer.files.length>0&&O(e.dataTransfer.files)},[O]),U=e=>{L(t=>{let s=t.find(t=>t.id===e);return s?.preview&&URL.revokeObjectURL(s.preview),t.filter(t=>t.id!==e)}),z(e=>({...e,files:void 0}))},P=e=>{if("image"===e.type)return null;let t=e.file.name.split(".").pop()?.toLowerCase();return"pdf"===t?"üìÑ":["doc","docx"].includes(t||"")?"üìù":["xls","xlsx"].includes(t||"")?"üìä":"üìé"},W=e=>e<1024?`${e} B`:e<1048576?`${(e/1024).toFixed(1)} KB`:`${(e/1048576).toFixed(1)} MB`;(0,r.useEffect)(()=>()=>{C.forEach(e=>{e.preview&&URL.revokeObjectURL(e.preview)})},[]);let E=e=>{let t,s,r;e.preventDefault(),t={},s=c("ai.form.required")||"–≠—Ç–æ –ø–æ–ª–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ",h.trim()||(t.senderCompanyName=s),p.trim()||(t.contactPerson=s),f.trim()||(t.position=s),(r=j.trim())?r.replace(/\D/g,"").length<7&&(t.phone=c("ai.form.phoneInvalid")||"–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞"):t.phone=s,y.trim()||(t.message=s),z(t),0===Object.keys(t).length&&(console.log("AI Request:",{senderCompanyName:h,contactPerson:p,position:f,phone:j,message:y,companyName:i,companyId:n,files:C.map(e=>({name:e.file.name,size:e.file.size,type:e.file.type}))}),k(!0),N(""),C.forEach(e=>{e.preview&&URL.revokeObjectURL(e.preview)}),L([]),z({}),setTimeout(()=>{k(!1),x(!1)},3e3))};return e?(0,t.jsxs)(t.Fragment,{children:[!d&&(0,t.jsxs)("button",{onClick:()=>{z({}),x(!0)},className:"fixed bottom-6 right-6 bg-gradient-to-r from-[#b10a78] to-[#7a0150] text-white px-6 py-4 rounded-full shadow-2xl hover:shadow-3xl transition-all hover:scale-105 flex items-center gap-3 z-40",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-yellow-400 rounded-full flex items-center justify-center",children:(0,t.jsx)("svg",{className:"w-6 h-6 text-[#820251]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),(0,t.jsx)("span",{className:"font-bold text-lg",children:c("ai.title")})]}),m&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:(0,t.jsxs)("div",{className:"bg-white rounded-2xl w-full max-w-lg shadow-2xl",children:[(0,t.jsx)("div",{className:"bg-gradient-to-r from-[#b10a78] to-[#7a0150] text-white p-6 rounded-t-2xl",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-yellow-400 rounded-full flex items-center justify-center",children:(0,t.jsx)("svg",{className:"w-7 h-7 text-[#820251]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-bold",children:c("ai.title")}),(0,t.jsx)("p",{className:"text-sm text-pink-200",children:c("ai.personalAssistant")})]})]}),(0,t.jsx)("button",{onClick:()=>x(!1),className:"text-white/80 hover:text-white",children:(0,t.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,t.jsx)("div",{className:"p-6",children:w?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,t.jsx)("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:c("ai.requestSent")}),(0,t.jsx)("p",{className:"text-gray-600",children:c("ai.requestProcessing")})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{className:"text-gray-600 mb-4",children:c("ai.description")}),(0,t.jsxs)("form",{onSubmit:E,className:"space-y-4",children:[(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)(s.default,{href:"/cabinet",className:"text-sm text-[#820251] hover:underline",children:c("ai.form.login")||"–í–æ–π—Ç–∏ –≤ –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç"})}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[c("ai.form.senderCompanyName")||"–ù–∞–∑–≤–∞–Ω–∏–µ –≤–∞—à–µ–π –∫–æ–º–ø–∞–Ω–∏–∏"," *"]}),(0,t.jsx)("input",{type:"text",value:h,onChange:e=>{u(e.target.value),I.senderCompanyName&&z(e=>({...e,senderCompanyName:void 0}))},className:`w-full p-3 border rounded-lg focus:outline-none focus:border-[#820251] ${I.senderCompanyName?"border-red-400":"border-gray-200"}`,placeholder:"–û–û–û ¬´–í–∞—à–∞ –∫–æ–º–ø–∞–Ω–∏—è¬ª",autoComplete:"organization"}),I.senderCompanyName&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",children:I.senderCompanyName})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[c("ai.form.contactPerson")||"–ö–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ (–§–ò–û)"," *"]}),(0,t.jsx)("input",{type:"text",value:p,onChange:e=>{g(e.target.value),I.contactPerson&&z(e=>({...e,contactPerson:void 0}))},className:`w-full p-3 border rounded-lg focus:outline-none focus:border-[#820251] ${I.contactPerson?"border-red-400":"border-gray-200"}`,placeholder:"–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á",autoComplete:"name"}),I.contactPerson&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",children:I.contactPerson})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[c("ai.form.position")||"–î–æ–ª–∂–Ω–æ—Å—Ç—å"," *"]}),(0,t.jsx)("input",{type:"text",value:f,onChange:e=>{b(e.target.value),I.position&&z(e=>({...e,position:void 0}))},className:`w-full p-3 border rounded-lg focus:outline-none focus:border-[#820251] ${I.position?"border-red-400":"border-gray-200"}`,placeholder:"–ú–µ–Ω–µ–¥–∂–µ—Ä",autoComplete:"organization-title"}),I.position&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",children:I.position})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[c("ai.form.phone")||"–õ–∏—á–Ω—ã–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞"," *"]}),(0,t.jsx)("input",{type:"tel",inputMode:"tel",value:j,onChange:e=>{v(e.target.value),I.phone&&z(e=>({...e,phone:void 0}))},className:`w-full p-3 border rounded-lg focus:outline-none focus:border-[#820251] ${I.phone?"border-red-400":"border-gray-200"}`,placeholder:"+375 29 000-00-00",autoComplete:"tel"}),I.phone&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",children:I.phone})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("textarea",{value:y,onChange:e=>{N(e.target.value),I.message&&z(e=>({...e,message:void 0}))},placeholder:c("ai.placeholder"),className:`w-full p-4 border rounded-lg focus:outline-none focus:border-[#820251] resize-none h-32 ${I.message?"border-red-400":"border-gray-200"}`}),I.message&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",children:I.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:c("ai.form.attachFiles")||"–ü—Ä–∏–∫—Ä–µ–ø–∏—Ç—å —Ñ–∞–π–ª—ã"}),(0,t.jsxs)("div",{onDragOver:R,onDragLeave:A,onDrop:B,onClick:()=>_.current?.click(),className:`relative border-2 border-dashed rounded-lg p-4 text-center cursor-pointer transition-colors ${$?"border-[#820251] bg-pink-50":"border-gray-300 hover:border-[#820251] hover:bg-gray-50"}`,children:[(0,t.jsx)("input",{ref:_,type:"file",multiple:!0,accept:l.join(","),onChange:S,className:"hidden"}),(0,t.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,t.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:c("ai.form.dragOrClick")||"–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Ñ–∞–π–ª—ã –∏–ª–∏ –Ω–∞–∂–º–∏—Ç–µ –¥–ª—è –≤—ã–±–æ—Ä–∞"}),(0,t.jsx)("p",{className:"text-xs text-gray-400",children:c("ai.form.fileFormats")||"–§–æ—Ç–æ, PDF, Word, Excel (–º–∞–∫—Å. 10 –ú–ë)"})]})]}),C.length>0&&(0,t.jsx)("div",{className:"mt-3 grid grid-cols-2 sm:grid-cols-3 gap-2",children:C.map(e=>(0,t.jsxs)("div",{className:"relative group bg-gray-100 rounded-lg p-2 flex flex-col items-center",children:["image"===e.type&&e.preview?(0,t.jsx)("img",{src:e.preview,alt:e.file.name,className:"w-full h-16 object-cover rounded"}):(0,t.jsx)("div",{className:"w-full h-16 flex items-center justify-center text-3xl",children:P(e)}),(0,t.jsx)("p",{className:"text-xs text-gray-600 truncate w-full text-center mt-1",children:e.file.name}),(0,t.jsx)("p",{className:"text-xs text-gray-400",children:W(e.file.size)}),(0,t.jsx)("button",{type:"button",onClick:t=>{t.stopPropagation(),U(e.id)},className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600",children:(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},e.id))}),I.files&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",children:I.files}),C.length>0&&(0,t.jsxs)("p",{className:"mt-1 text-xs text-gray-500",children:[C.length," / ",10," ",c("ai.form.filesAttached")||"—Ñ–∞–π–ª–æ–≤ –ø—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–æ"]})]}),(0,t.jsx)("button",{type:"submit",className:"w-full mt-4 bg-[#820251] text-white py-3 rounded-lg font-semibold hover:bg-[#7a0150] transition-colors",children:c("ai.sendRequest")})]})]})})]})})]}):o?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("button",{onClick:()=>{z({}),x(!0)},className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-[#b10a78] to-[#7a0150] text-white rounded-lg hover:opacity-90 transition-opacity",children:[(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),(0,t.jsx)("span",{className:"text-sm font-medium",children:c("ai.title")})]}),m&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:(0,t.jsxs)("div",{className:"bg-white rounded-2xl w-full max-w-lg shadow-2xl",children:[(0,t.jsx)("div",{className:"bg-gradient-to-r from-[#b10a78] to-[#7a0150] text-white p-6 rounded-t-2xl",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-bold",children:c("ai.title")}),i&&(0,t.jsxs)("p",{className:"text-sm text-pink-200",children:[c("ai.requestTo")," ",i]})]}),(0,t.jsx)("button",{onClick:()=>x(!1),className:"text-white/80 hover:text-white",children:(0,t.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,t.jsx)("div",{className:"p-6",children:w?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,t.jsx)("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:c("ai.prioritySent")}),(0,t.jsx)("p",{className:"text-gray-600",children:c("ai.priorityDesc")})]}):(0,t.jsxs)("form",{onSubmit:E,className:"space-y-4",children:[(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)(s.default,{href:"/cabinet",className:"text-sm text-[#820251] hover:underline",children:c("ai.form.login")||"–í–æ–π—Ç–∏ –≤ –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç"})}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[c("ai.form.senderCompanyName")||"–ù–∞–∑–≤–∞–Ω–∏–µ –≤–∞—à–µ–π –∫–æ–º–ø–∞–Ω–∏–∏"," *"]}),(0,t.jsx)("input",{type:"text",value:h,onChange:e=>{u(e.target.value),I.senderCompanyName&&z(e=>({...e,senderCompanyName:void 0}))},className:`w-full p-3 border rounded-lg focus:outline-none focus:border-[#820251] ${I.senderCompanyName?"border-red-400":"border-gray-200"}`,placeholder:"–û–û–û ¬´–í–∞—à–∞ –∫–æ–º–ø–∞–Ω–∏—è¬ª",autoComplete:"organization"}),I.senderCompanyName&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",children:I.senderCompanyName})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[c("ai.form.contactPerson")||"–ö–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ (–§–ò–û)"," *"]}),(0,t.jsx)("input",{type:"text",value:p,onChange:e=>{g(e.target.value),I.contactPerson&&z(e=>({...e,contactPerson:void 0}))},className:`w-full p-3 border rounded-lg focus:outline-none focus:border-[#820251] ${I.contactPerson?"border-red-400":"border-gray-200"}`,placeholder:"–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á",autoComplete:"name"}),I.contactPerson&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",children:I.contactPerson})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[c("ai.form.position")||"–î–æ–ª–∂–Ω–æ—Å—Ç—å"," *"]}),(0,t.jsx)("input",{type:"text",value:f,onChange:e=>{b(e.target.value),I.position&&z(e=>({...e,position:void 0}))},className:`w-full p-3 border rounded-lg focus:outline-none focus:border-[#820251] ${I.position?"border-red-400":"border-gray-200"}`,placeholder:"–ú–µ–Ω–µ–¥–∂–µ—Ä",autoComplete:"organization-title"}),I.position&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",children:I.position})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[c("ai.form.phone")||"–õ–∏—á–Ω—ã–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞"," *"]}),(0,t.jsx)("input",{type:"tel",inputMode:"tel",value:j,onChange:e=>{v(e.target.value),I.phone&&z(e=>({...e,phone:void 0}))},className:`w-full p-3 border rounded-lg focus:outline-none focus:border-[#820251] ${I.phone?"border-red-400":"border-gray-200"}`,placeholder:"+375 29 000-00-00",autoComplete:"tel"}),I.phone&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",children:I.phone})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("textarea",{value:y,onChange:e=>{N(e.target.value),I.message&&z(e=>({...e,message:void 0}))},placeholder:c("ai.describePlaceholder"),className:`w-full p-4 border rounded-lg focus:outline-none focus:border-[#820251] resize-none h-32 ${I.message?"border-red-400":"border-gray-200"}`}),I.message&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",children:I.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:c("ai.form.attachFiles")||"–ü—Ä–∏–∫—Ä–µ–ø–∏—Ç—å —Ñ–∞–π–ª—ã"}),(0,t.jsxs)("div",{onDragOver:R,onDragLeave:A,onDrop:B,onClick:()=>_.current?.click(),className:`relative border-2 border-dashed rounded-lg p-4 text-center cursor-pointer transition-colors ${$?"border-[#820251] bg-pink-50":"border-gray-300 hover:border-[#820251] hover:bg-gray-50"}`,children:[(0,t.jsx)("input",{ref:_,type:"file",multiple:!0,accept:l.join(","),onChange:S,className:"hidden"}),(0,t.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,t.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:c("ai.form.dragOrClick")||"–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Ñ–∞–π–ª—ã –∏–ª–∏ –Ω–∞–∂–º–∏—Ç–µ –¥–ª—è –≤—ã–±–æ—Ä–∞"}),(0,t.jsx)("p",{className:"text-xs text-gray-400",children:c("ai.form.fileFormats")||"–§–æ—Ç–æ, PDF, Word, Excel (–º–∞–∫—Å. 10 –ú–ë)"})]})]}),C.length>0&&(0,t.jsx)("div",{className:"mt-3 grid grid-cols-2 sm:grid-cols-3 gap-2",children:C.map(e=>(0,t.jsxs)("div",{className:"relative group bg-gray-100 rounded-lg p-2 flex flex-col items-center",children:["image"===e.type&&e.preview?(0,t.jsx)("img",{src:e.preview,alt:e.file.name,className:"w-full h-16 object-cover rounded"}):(0,t.jsx)("div",{className:"w-full h-16 flex items-center justify-center text-3xl",children:P(e)}),(0,t.jsx)("p",{className:"text-xs text-gray-600 truncate w-full text-center mt-1",children:e.file.name}),(0,t.jsx)("p",{className:"text-xs text-gray-400",children:W(e.file.size)}),(0,t.jsx)("button",{type:"button",onClick:t=>{t.stopPropagation(),U(e.id)},className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600",children:(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},e.id))}),I.files&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",children:I.files}),C.length>0&&(0,t.jsxs)("p",{className:"mt-1 text-xs text-gray-500",children:[C.length," / ",10," ",c("ai.form.filesAttached")||"—Ñ–∞–π–ª–æ–≤ –ø—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–æ"]})]}),(0,t.jsx)("button",{type:"submit",className:"w-full mt-4 bg-[#820251] text-white py-3 rounded-lg font-semibold hover:bg-[#7a0150] transition-colors",children:c("ai.sendRequest")})]})})]})})]}):(0,t.jsxs)("button",{disabled:!0,className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-400 rounded-lg cursor-not-allowed border border-gray-200",title:c("ai.inactive"),children:[(0,t.jsx)("svg",{className:"w-5 h-5 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),(0,t.jsx)("span",{className:"text-sm font-normal",children:c("ai.title")})]})}e.s(["default",()=>i])}]);